<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity6">
<head>
  <meta charset="UTF-8">
  <title>Login</title>
  <!-- Bootstrap CSS -->
  <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"/>
  <!-- (Optional) Bootstrap Icons -->
  <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">

  <style>
    body {
      background-color: #f8f9fa; /* Subtle light gray background */
    }
  </style>
</head>
<body>

<!-- Optional Navbar Fragment -->
<header th:replace="~{fragments/navbar :: navbarFragment}"></header>

<main class="container d-flex justify-content-center align-items-center" style="min-height: 80vh;">
  <!-- Card with subtle shadow -->
  <div class="card shadow" style="max-width: 400px; width: 100%; border-radius: 8px;">
    <!-- Colored header for the card -->
    <div class="card-header bg-primary text-white text-center">
      <h2 class="mb-0">
        <i class="bi bi-hospital"></i> SMS HOSPITAL
      </h2>
    </div>
    <div class="card-body">
      <div class="card-title text-center mb-4 fw-semibold">
        Login to Your Account
      </div>

      <!-- Display error message if login failed -->
      <div th:if="${param.error}" class="alert alert-danger" role="alert">
        Invalid username or password.
      </div>

      <form th:action="@{/login}" method="post">
        <div class="mb-3">
          <label for="username" class="form-label fw-semibold">
            <i class="bi bi-envelope-fill"></i> Email
          </label>
          <input type="email"
                 id="username"
                 name="username"
                 class="form-control"
                 placeholder="Enter Email"
                 required />
        </div>

        <div class="mb-3">
          <label for="password" class="form-label fw-semibold">
            <i class="bi bi-lock-fill"></i> Password
          </label>
          <input type="password"
                 id="password"
                 name="password"
                 class="form-control"
                 placeholder="Enter Password"
                 required />
        </div>

        <button class="btn btn-success w-100" type="submit">
          <i class="bi bi-box-arrow-in-right"></i> Login
        </button>
      </form>

      <div class="text-center mt-3">
        <a th:href="@{/forgot-password}" class="text-decoration-none">
          <i class="bi bi-question-circle"></i> Forgot Password?
        </a>
      </div>

      <div class="text-center mt-3">
        <p class="mb-1">Don't have an account?</p>
        <p>
          Register as:
          <!-- Option A: Always show Admin link -->
          <a th:href="@{/register(role='ADMIN')}" class="text-decoration-none">
            Admin
          </a> |

          <!-- Option B: Conditionally show Admin link only if enableAdminRegistration is true
               <span th:if="${enableAdminRegistration}">
                 <a th:href="@{/register(role='ADMIN')}" class="text-decoration-none">Admin</a> |
               </span>
          -->

          <a th:href="@{/register(role='DOCTOR')}" class="text-decoration-none">
            Doctor
          </a> |
          <a th:href="@{/register(role='PATIENT')}" class="text-decoration-none">
            Patient
          </a>
        </p>
      </div>
    </div> <!-- card-body -->
  </div> <!-- card -->
</main>

<!-- Bootstrap JS (includes Popper) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>






